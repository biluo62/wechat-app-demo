webpackJsonp([3],{377:function(t,e,n){try{(function(){"use strict";function t(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r,a,i,o=t(n(2)),c=t(n(349)),u=t(n(10)),l=t(n(3)),f=t(n(6)),s=t(n(11)),d=t(n(12)),A=n(1),p=t(A),h=t(n(9)),m=n(38),v=n(24),y=n(40),E=n(352),g=t(n(13)),k=t(n(394)),w=t(n(119)),N=t(n(348)),B=t(n(344)),O=t(n(346)),S=t(n(350)),x=t(n(353)),C=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(122)),b=t(n(347)),j=n(64);n(447);var z=(0,b.default)((i=a=function(t){function e(t){(0,l.default)(this,e);var n=(0,s.default)(this,(e.__proto__||(0,u.default)(e)).call(this,t));return n.onClickFriend=function(t){return function(){n.props.setState({selectedContacter:t}),n.props.history.push("/wechat/contact/detail/"+t.wxid)}},n.onClickAddFriend=function(){n.props.history.push("/wechat/add-friend")},n.onClickAnchorLetter=function(t){return function(e){var r=document.getElementById("alpha"+t);r&&Math.abs(r.offsetTop-j.HEADER_HEIGHT*n.state.fontSize)>=5&&window.scrollTo(0,r.offsetTop),e.stopPropagation()}},n.redrawStickyAnchorLetter=function(){if(!n.checkIsSubRoute()){var t=document.getElementsByClassName("sticky"),e=t.length,r=void 0;t.length&&(r=t[e-1].getAttribute("data-alpha"));var a=document.getElementsByClassName("letter-anchor"),i=!0,o=!1,u=void 0;try{for(var l,f=(0,c.default)(a);!(i=(l=f.next()).done);i=!0){var s=l.value;N.default.hasClassName(s,"anchor-sticky")&&s.innerText!==r&&N.default.removeClassName(s,"anchor-sticky"),s.innerText===r&&N.default.addClassName(s,"anchor-sticky")}}catch(t){o=!0,u=t}finally{try{!i&&f.return&&f.return()}finally{if(o)throw u}}}},n.triggerStickyAnchorLetter=function(t){var e=document.getElementsByClassName("letter-anchor"),n=!0,r=!1,a=void 0;try{for(var i,o=(0,c.default)(e);!(n=(i=o.next()).done);n=!0){var u=i.value;N.default.hasClassName(u,"anchor-sticky")&&u.innerText!==t&&N.default.removeClassName(u,"anchor-sticky"),u.innerText===t&&N.default.addClassName(u,"anchor-sticky")}}catch(t){r=!0,a=t}finally{try{!n&&o.return&&o.return()}finally{if(r)throw a}}},n.getStickyContainerCells=function(t){var e=n.props.contacts;return e[t]?e[t].map(function(t){return{left:p.default.createElement("img",{src:t.headerUrl}),center:p.default.createElement(x.default,t),onClick:n.onClickFriend(t)}}):[]},n.renderLetterStickyContainer=function(t,e){return p.default.createElement(E.StickyContainer,{className:"contact-friends-group",key:e},p.default.createElement(E.Sticky,{topOffset:-((j.HEADER_HEIGHT+.56)*n.state.fontSize-2)},function(e){var r=e.isSticky,a=e.style;return r&&n.stickyLetter!==t&&(n.triggerStickyAnchorLetter(t),n.stickyLetter=t),p.default.createElement("p",{id:"alpha"+t,"data-alpha":t,className:(0,g.default)("contact-alpha",{sticky:r}),style:(0,o.default)({},a,{top:j.HEADER_HEIGHT*n.state.fontSize-2})},t)}),p.default.createElement(O.default,{cells:n.getStickyContainerCells(t)}))},n.renderLettersAnchorBar=function(){var t=n.props.letters;return t?p.default.createElement("ul",{className:"anchor-bar"},t.map(function(t,e){return p.default.createElement("li",{className:(0,g.default)("letter-anchor","letter-anchor-"+t),key:e,onClick:n.onClickAnchorLetter(t)},t)})):null},n.state={fontSize:40,stickyLetter:""},n.checkIsSubRoute=n.checkIsSubRoute.bind(n),n}return(0,d.default)(e,t),(0,f.default)(e,[{key:"componentDidMount",value:function(){this.props.setState({content:"Modified Redux Content Data"});var t=(N.default.getElementStyle(document.documentElement,"font-size")||"16px").replace("px","");this.setState({fontSize:t}),this.throttleRedrawStickyAnchorLetter=(0,k.default)(this.redrawStickyAnchorLetter,16.7),window.addEventListener("scroll",this.throttleRedrawStickyAnchorLetter,!1)}},{key:"componentWillUnmount",value:function(){this.throttleRedrawStickyAnchorLetter&&(window.removeEventListener("scroll",this.throttleRedrawStickyAnchorLetter,!1),this.throttleRedrawStickyAnchorLetter=!1)}},{key:"render",value:function(){var t=this,e=this.props,r=e.letters,a=e.total,i=e.children,o=[{left:p.default.createElement("img",{src:n(448)}),link:"/wechat/contact/new-friends",center:p.default.createElement("p",null,"新的朋友")},{left:p.default.createElement("img",{src:n(449)}),link:"/wechat/contact/group-chats",center:p.default.createElement("p",null,"群聊")},{left:p.default.createElement("img",{src:n(450)}),link:"/wechat/contact/tags",center:p.default.createElement("p",null,"标签")},{left:p.default.createElement("img",{src:n(451)}),link:"/wechat/contact/official-accounts",center:p.default.createElement("p",null,"公众号")}];return p.default.createElement("div",{className:(0,g.default)("contact-wrapper",{"with-sub-wrapper without-footer-wrapper":this.checkIsSubRoute()})},p.default.createElement("div",{className:"sub-main-wrapper contact-main-wrapper"},p.default.createElement(B.default,{title:"通讯录"},p.default.createElement("i",{className:"icon-header-operation iconfont icon-tips-add-friend",onClick:this.onClickAddFriend})),p.default.createElement(S.default,null),p.default.createElement(O.default,{cells:o}),p.default.createElement("ul",{className:"contact-frineds"},!!r&&r.map(function(e,n){return t.renderLetterStickyContainer(e,n)})),p.default.createElement("p",{className:"contact-statistics"},a+"位联系人"),this.renderLettersAnchorBar()),i&&i)}}]),e}(A.Component),a.propTypes={contacts:h.default.object.isRequired,letters:h.default.array.isRequired,total:h.default.number.isRequired,setState:h.default.func.isRequired},r=i))||r;e.default=(0,m.connectAdvanced)(function(t){var e={},n=(0,v.bindActionCreators)(C,t);return function(r,a){var i=r.wechat.contactMain,c=void 0===i?{}:i,u=c.selectedContacter,l=c.contactLetters,f=c.contactGroups,s=c.contacts,d=(void 0===s?[]:s).length,A=(0,v.bindActionCreators)(y.push,t),p=(0,o.default)({},a,{contacts:f,letters:l,total:d,selectedContacter:u},n,{pushState:A});return e=w.default.shallowEqual(e,p)?e:p}})(z)}).call(this)}finally{}},394:function(t,e,n){var r=n(395),a=n(17),i="Expected a function";t.exports=function(t,e,n){var o=!0,c=!0;if("function"!=typeof t)throw new TypeError(i);return a(n)&&(o="leading"in n?!!n.leading:o,c="trailing"in n?!!n.trailing:c),r(t,e,{leading:o,maxWait:e,trailing:c})}},395:function(t,e,n){var r=n(17),a=n(396),i=n(397),o="Expected a function",c=Math.max,u=Math.min;t.exports=function(t,e,n){function l(e){var n=m,r=v;return m=v=void 0,w=e,E=t.apply(r,n)}function f(t){return w=t,g=setTimeout(A,e),N?l(t):E}function s(t){var n=t-w,r=e-(t-k);return B?u(r,y-n):r}function d(t){var n=t-k,r=t-w;return void 0===k||n>=e||n<0||B&&r>=y}function A(){var t=a();if(d(t))return p(t);g=setTimeout(A,s(t))}function p(t){return g=void 0,O&&m?l(t):(m=v=void 0,E)}function h(){var t=a(),n=d(t);if(m=arguments,v=this,k=t,n){if(void 0===g)return f(k);if(B)return g=setTimeout(A,e),l(k)}return void 0===g&&(g=setTimeout(A,e)),E}var m,v,y,E,g,k,w=0,N=!1,B=!1,O=!0;if("function"!=typeof t)throw new TypeError(o);return e=i(e)||0,r(n)&&(N=!!n.leading,y=(B="maxWait"in n)?c(i(n.maxWait)||0,e):y,O="trailing"in n?!!n.trailing:O),h.cancel=function(){void 0!==g&&clearTimeout(g),w=0,m=k=v=g=void 0},h.flush=function(){return void 0===g?E:p(a())},h}},396:function(t,e,n){var r=n(8);t.exports=function(){return r.Date.now()}},397:function(t,e,n){var r=n(17),a=n(39),i=NaN,o=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,l=/^0o[0-7]+$/i,f=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(a(t))return i;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var n=u.test(t);return n||l.test(t)?f(t.slice(2),n?2:8):c.test(t)?i:+t}},447:function(t,e){},448:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAA7VBMVEX6nTv////7tm76oUT++PH+8OH++vX7tGn92LH+7t3++/j+8ub+/Pn6nTz++fT95cv937/+/v77uXP+/fz81q396tb6oUP6q1f7sWT+/v36qVT8ypb81q7+8eT6rVv96dP92rX7uHH81az959D95s781av8z5/6qlX6o0f6pEr+79/94cT7vHn7u3j7vHr6oEL7u3f6nj77v4D7vXz8yJH++PL+7t76n0D7t3D96tX92bT93r37tWz+9u36nj37wob+9u76r1/96NH8xo7917D92LL++vb+8OL6rFr948j8zp78x4/+7+D81Kn6rVyUsFEiAAABZElEQVR4Xu3UVY7cUBSE4b+MzYzDzBNkZob9LycvltX2nXauTl4Syd8CSjrIf6JWq9W6wV6z12vuBV3+ys6uMrs72LHfUq61j1na0YpOilHYVkE7xOZEJSeYzCKVRLexuJLjGosDOQ6w6MvRx6IpRxOLCzkusJjKMcViIMcAi005NrHYkGMDk0OVHGKzWKpgucBoSwVbWIXbWrEdYpYqp2GKHZfODhndU+4+GYJGnCRxI8AfI+WeAADzI2WO5ng7Vm6StS1SLkrxdGus3PAOwDzSimiOj7vfhlox/g5kdUFWHR5GP1T0EwIVgxTwJ7++qmwEjXJQg2rnk7EcpxCXg+Lq5jx4KJdmkEgiJymhQvpINwqh5R/E4+OhbvYFPvuXdvZU64zgmX+zn2utCbzwH39Ha718BX3vhVSF13De9j0RVXhzBm97nkebqMKgC6fv/N7I+8qkDwDBx/hT9tj+PbVarfYb2XEVnzvRAPUAAAAASUVORK5CYII="},449:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAABRFBMVEUrokX////4/PlmvHleuHJOsWTz+fRiunX0+vX9/v213r6GypUuo0c+qlWb06c6qFJwwIJxwYPA48jw+PLt9++a0qbP6tXm9Okto0fK6NH+/v7Y7t1NsWPT7Nk4p1B+xo7a7t6u27jo9evc8OHD5Mqm17D7/fw3p08vo0j5/Pl5xIlWtGq54MHc7+BguXNrvn36/fvi8uaZ0qbs9u4sokav27hZtm2c06h6xYux3bvS69czpUxBq1hQsmW64cPL6NFYtm02p0/v+PGEyZMypUvJ59B7xYuy3bvZ7t5huXQ5qFKf1atRsmY8qVTr9u36/Po1pk6d1Knd8OHF5cxuv4BfuHKSz6Bct3BPsmVjunaOzZz8/fwwpErN6dO54MJ8xYx5xIqo2bOe1KrI5s5bt2/q9ezu9/D3+/jX7dtErVtduHGFyZSFauUDAAABrElEQVR4Ae3S03okURSG4e9v245tO2Pbtn3/51PP7nRUwa7OeOo9X174/gI+n28xutQbifQuRRc5knBFGyphjiAY0KZAkLY9GNM2YyHaNFLVDtUR2nNNu7wFEpHL5S940h3TLrFumJD0KYkXq3JZBe7J8RAPEnJJAN/keDaBvQG5DABX5NDnFNZicokBN2Tcx1pALgHguYw3WOuXSz+QljGHtbpc6sBpGWexlpFLBuiR8QJrYbmEgZcyytjr0i5dQPqWjMfYC2mXENAno4IXa9phDfjakPEEL7IL2mYhC2fmNs/nSU7b5IBLaprGo7o2XQBOqOkkXuW1KQ88VVMQr0I7T3ZRTefwKrPzq8+vy4iE8GZmVptmZ4DbkzICr/AgNd/QNo35FDB9Ssa799gKTmmXqSCO6LqMwnVsdA5KboOdOHJVyRHvS3OY7NCw9jQ8lAWO3YlLjmKeA9WSRe2rmKwBj27KeM0Bljt0oI5l4PhdyfGBfdXKcR0iXq45mT5KDvYzWpCFwij0HJxoRVZW4Kock+ynJCslDiNLPzzRzx9tvGSVZ5w/mM/n830HT58jXBOvQSEAAAAASUVORK5CYII="},450:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAAVFBMVEUngtf///+rzu+IuumTwOv5+/1boOD9/v45jNpeoeE4jNpAkNuCtudBkdvz+Pxgo+HY6PdfouFMl92qze/a6fh2sOVIld211PHu9fuUwevd6/iMvOlg5XIrAAAAsklEQVR4Xu3Otw7DQBADUe/dKQbn7P//TwPCNFahYqnCxU7H5oE7rSiKouhiPx3PTqfYoqvukO6Q7pDukOI8Du2UK4bg3OZdN0D+P8gJyOvYCagD8jrWAvVAXscmoAHI61gGGoG8jlX17Nz3QA6HmtT1w4hjbmfZVk7ayCl/5YSTZIeeskMv3aGy7sgSjizhyBKOLOHIEo4s4cgSjizhyBKOLOHIEo4u4ejl92cdiKIo+gLx3AX8g42WOQAAAABJRU5ErkJggg=="},451:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAA6lBMVEUngtcogtdfouGtz+/Z6fjz+PxKlt3O4/b///9jpOL4+/1Zn+D5+/0yiNnj7/mVwuswh9jv9vwvhthrqeNqqeOkyu7G3vTc6vjS5fa41vGLvOlCktzM4fVUnN/9/v6my+4xh9ji7vlan+C+2fNyreRlpuKjyu6iye1tquT8/f6Vwesqg9f+/v5NmN5kpeLd6/jg7flLl93C3POZxOw3i9qly+5Sm99Tm9+FuOjx9/zb6vidxuza6fgshdhXnd80idnR5Pbo8fq31fGrzu+sz++21PH1+f1Omd7k7/o4jNrK4PUrhNemzO6CtucNfNx8AAABWElEQVR4Ae3Bg3rkABiG0Xf81TbHrG27vf/LqZsnGWX6Z705h9BfIhQKRaKxeCIRj0UjBJJM6VMqSQBd3XJ0d2HW0yuX3h6M+vrl0d+HzYDqDGAyOKQ6Q8NYjKjBKBZjajCGxbgajGMRV4M4FhNqMIHFpBpMYjGlBlNYTKvBNBYzajCDyazqzGIzNy+P+TmMFuSxgNViWi7pRcwycskQQFaOLEHk5MgRRF6OPEEUJGliQpKKBFAqS1KlIknlElbVSk1vlpb0plapYrK8onersKp3K8t839q6Pm3Ahj6tr/E9m1tlfdmGHX0pb23Suerunhz9AP1y7O1W6VBmXy4HAAdyOczQiaNCTW7HAMdyqxWO8HVyKo8z3p3J4/QEP+fyuuDdpbyu8NMrr+sbgJtrefXiR/Vu7+DuVvXwowb3Dw/3aoCfhBo8PqpBAj9PCXUg8UQoFAr9oV4AkgMtYs7Eq2AAAAAASUVORK5CYII="}});